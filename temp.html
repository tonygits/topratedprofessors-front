<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles/frow.min.css">
    <link rel="stylesheet" href="fonts/stylesheet.css">
    <link rel="stylesheet" href="fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="fontawesome/css/solid.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <title>TopRatedProfessors - Buy Your Paper Online from Experts In Your Field Of Study</title>
</head>
<body>
        <div id="scroll-form" class="frow col-md-1-2 items-center direction-column">
                <div class="frow justify-end">
                    <form class="frow form-width items-center p-5 bg-grey" action="" method="post">
                        <div class="frow full-width mt-25">
                            <h2 class="header-kalam">Calculate Your Price</h2>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="service" class="col-md-1-3 m-0 p-5 justify-center full-width">Service</label>
                                <select class="col-md-2-3" name="service" id="service" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="type" class="col-md-1-3 m-0 p-5 justify-center full-width">Type</label>
                                <select class="col-md-2-3" name="type" id="types" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="urgency" class="col-md-1-3 m-0 p-5 justify-center full-width">Urgency</label>
                                <select class="col-md-2-3" name="urgency" id="urgency" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="pages" class="col-md-1-3 m-0 p-5 justify-center full-width">Pages</label>
                                <select class="col-md-2-3" name="pages" id="pages" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="level" class="col-md-1-3 m-0 p-5 justify-center full-width">Level</label>
                                <select class="col-md-2-3" name="level" id="level" required></select>
                        </div>
                        <div class="frow full-width p-10">
                            <label for="spacing" class="col-md-1-3 m-0 p-5 justify-center full-width">Spacing</label>
                            <select class="col-md-2-3" name="spacing" id="spacing" required>
                            </select>
                        </div>
                        <div class="frow full-width p-10">
                            <label for="language" class="col-md-1-3 m-0 p-5 justify-center full-width">Language</label>
                            <select class="col-md-2-3" name="language" id="languages" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="subject" class="col-md-1-3 m-0 p-5 justify-center full-width">Subject</label>
                                <select class="col-md-2-3" name="subject" id="subjects" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="style" class="col-md-1-3 m-0 p-5 justify-center full-width">Style</label>
                                <select class="col-md-2-3" name="style" id="styles" required></select>
                        </div>
                        <div class="frow full-width p-10">
                                <label for="sources" class="col-md-1-3 m-0 p-5 justify-center full-width">Sources</label>
                                <select class="col-md-2-3" name="sources" id="sources" required></select>
                        </div>
                        <div class="frow p-10 mb-10 items-center full-width row-center justify-end">
                                <div class="full-width frow row-center">
                                    <span><h3>Minimum Amount:</h3></span> <span id="min-amount"></span>
                                </div>
                            </div>
                        <div class="frow p-10 mb-25 items-center">
                            <button type="submit" class="main-btn">PLACE ORDER</button>
                        </div>
                    </form>
                </div>
            </div>
        </div> 
</body>
<script>
    var request = new XMLHttpRequest();
    request.open("GET", "https://doctorateessays.com/api/calculator-details", true);

    request.onload = function () {
        if (this.status >= 200 && this.status < 400) {
            var data = JSON.parse(this.response);
            
            let services = data.services;
            let types = data.types;
            let urgencies = data.urgencies;
            let pages = data.pages;
            let levels = data.levels;
            let spacing = data.spacing;
            let languages = data.languages;
            let subjects = data.subjects;
            let styles = data.styles;
            let sources = data.sources;
            
            services.forEach(service => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(service.name);
                let attr = document.createAttribute("value");
                attr.value = service.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("service").appendChild(node);
            });

            types.forEach(type => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(type.name);
                let attr = document.createAttribute("value");
                attr.value = type.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("types").appendChild(node);
            });

            urgencies.forEach(urgency => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(urgency.name);
                let attr = document.createAttribute("value");
                attr.value = urgency.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("urgency").appendChild(node);
            });

            pages.forEach(page => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(page.name);
                let attr = document.createAttribute("value");
                attr.value = page.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("pages").appendChild(node);
            });

            levels.forEach(level => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(level.name);
                let attr = document.createAttribute("value");
                attr.value = level.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("level").appendChild(node);
            });

            spacing.forEach(space => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(space.name);
                let attr = document.createAttribute("value");
                attr.value = space.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("spacing").appendChild(node);
            });

            languages.forEach(language => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(language.name);
                let attr = document.createAttribute("value");
                attr.value = language.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("languages").appendChild(node);
            });

            subjects.forEach(subject => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(subject.name);
                let attr = document.createAttribute("value");
                attr.value = subject.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("subjects").appendChild(node);
            });

            styles.forEach(style => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(style.name);
                let attr = document.createAttribute("value");
                attr.value = style.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("styles").appendChild(node);
            });

            sources.forEach(source => {
                let node = document.createElement("option");
                let textnode = document.createTextNode(source.name);
                let attr = document.createAttribute("value");
                attr.value = source.id;
                node.setAttributeNode(attr);
                node.appendChild(textnode);
                document.getElementById("sources").appendChild(node);
            });
            
        }else {
            document.getElementById("service").innerHTML = "ERROR GETTING DATA";
        }
    };

    request.onerror = function() {
        document.getElementById("service").innerHTML = "AN ERROR OCCURED";
    };

    request.send();
</script>
<script src="js/jquery.min.js"></script>
<script src="js/points.js"></script>
</html>